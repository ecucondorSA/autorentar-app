#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸš€ Pre-push checks..."

# Run contract tests if they exist
if [ -d "tests/contracts" ]; then
  echo "ğŸ§ª Running contract tests..."
  pnpm test tests/contracts --run || {
    echo "âŒ Contract tests failed"
    exit 1
  }
fi

# Build
echo "ğŸ”¨ Building..."
pnpm build || {
  echo "âŒ Build failed"
  exit 1
}

echo "âœ… Pre-push checks passed"
